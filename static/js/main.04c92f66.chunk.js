(this["webpackJsonpmashup-dev"]=this["webpackJsonpmashup-dev"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(23),r=c.n(s),i=(c(31),c(7)),o=(c(32),c(8)),l=c.n(o),u=c(10),d={connectQCS:function(e){return new Promise((function(t){var c="https://".concat(e.host);d.request(e,c,"/api/v1/users/me").then((function(n){console.log("Logged in, ".concat(n.name)),d.loadCapSAAS(e).then((function(){window.requirejs.config({webIntegrationId:e.webIntegrationId,baseUrl:"".concat(c).concat(e.prefix,"resources")}),window.requirejs(["js/qlik"],(function(e){t(e)}))}))}),(function(){console.log("Redirecting to Qlik Cloud...");var t=encodeURIComponent(window.location.href);window.location.href="".concat(c,"/login?returnto=").concat(t,"&qlik-web-integration-id=").concat(e.webIntegrationId)}))}))},connectQSE:function(e){return new Promise((function(t){d.loadCapabilityApis(e).then((function(){var c=e.isSecure?"https://":"http://",n=e.port?":".concat(e.port):"";window.requirejs.config({baseUrl:"".concat(c).concat(e.host).concat(n).concat(e.prefix,"resources")}),window.requirejs(["js/qlik"],(function(e){return t(e)}))}))}))},loadCapSAAS:function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.host,n=t.webIntegrationId,(a=document.createElement("link")).rel="stylesheet",a.href="https://".concat(c,"/resources/autogenerated/qlik-styles.css"),document.head.appendChild(a),a.loaded=new Promise((function(e){a.onload=function(){e()}})),(s=document.createElement("script")).src="https://".concat(c,"/resources/assets/external/requirejs/require.js"),s.onload=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.require.config({baseUrl:"https://".concat(c,"/resources"),webIntegrationId:n});case 1:case"end":return e.stop()}}),e)}))),document.body.appendChild(s),s.loaded=new Promise((function(e){s.onload=function(){e()}})),e.next=15,Promise.all([a.loaded,s.loaded]);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),loadCapabilityApis:function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,a,s,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=document.createElement("script"),n=t.prefix,a=t.isSecure?"https://":"http://",s=t.port?":".concat(t.port):"",r="".concat(a).concat(t.host).concat(s).concat(n),c.src="".concat(r,"resources/assets/external/requirejs/require.js"),document.head.appendChild(c),c.loaded=new Promise((function(e){c.onload=function(){e()}})),(i=document.createElement("link")).href="".concat(r,"resources/autogenerated/qlik-styles.css"),i.type="text/css",i.rel="stylesheet",document.head.appendChild(i),i.loaded=new Promise((function(e){i.onload=function(){e()}})),e.next=17,Promise.all([c.loaded,i.loaded]);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(0),new Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),request:function(e,t,c){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(a,s){fetch("".concat(t).concat(c),{mode:"cors",credentials:"include",redirect:"follow",headers:{"qlik-web-integration-id":e.webIntegrationId}}).then((function(e){return(e.status<200||e.status>=400)&&s(e),a(n?e.json():e)}),(function(e){s(e)}))}))}},j=d,p=(c(34),c(35),c(36),c(0));var b=function(){return Object(p.jsx)("div",{className:"load-wrapp",children:Object(p.jsxs)("div",{className:"load-3",children:[Object(p.jsx)("div",{className:"line"}),Object(p.jsx)("div",{className:"line"}),Object(p.jsx)("div",{className:"line"})]})})};var f=function(e){var t=e.app,c=e.qlikId,a=e.className,s=e.style,r=Object(n.useRef)();return Object(n.useEffect)((function(){t&&t.visualization.get(c).then((function(e){e.show(r.current)}))}),[t,c]),Object(p.jsx)("div",{ref:r,className:a,style:s||{width:"100%",height:"100%"},children:Object(p.jsx)(b,{})})},h=c(25);var x=function(e){var t=e.app,c=e.id,a=Object(n.useState)(),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useRef)(null);return Object(n.useEffect)((function(){return t&&t.visualization.get(c).then((function(e){e.model.getProperties().then((function(e){var c=e,n=c.title;t.createCube(c.qHyperCubeDef,(function(e){l.current=e.qInfo.qId;var t=[],c=[];e.qHyperCube.qDataPages[0].qMatrix.forEach((function(e){t.push(e[0].qText),c.push(e[1].qText)})),o({xAxis:{type:"value"},yAxis:{type:"category",data:t},series:[{data:c,type:"bar"}],title:{show:!0,text:n},textStyle:{fontfamily:"Roboto"}})}))}))})),function(){l.current&&t.destroySessionObject(l.current)}}),[t]),r?Object(p.jsx)(h.a,{option:r}):Object(p.jsx)(b,{})};var O=function(e){var t=e.app;return Object(p.jsxs)("div",{className:"pageDiv",children:[Object(p.jsx)("div",{className:"pageTitleDiv",children:Object(p.jsx)("span",{className:"pageTitle",children:"Dashboard"})}),Object(p.jsxs)("div",{className:"kpisDiv",children:[Object(p.jsx)(f,{app:t,qlikId:"jTuCwkB",className:"kpiBig",style:{height:"105px",width:"100%"}}),Object(p.jsx)(f,{app:t,qlikId:"JARjh",style:{height:"105px",width:"100%"}}),Object(p.jsx)(f,{app:t,qlikId:"JsVPe",style:{height:"105px",width:"100%"}})]}),Object(p.jsxs)("div",{className:"chartsDiv",children:[Object(p.jsx)(f,{app:t,qlikId:"hRZaKk",style:{flex:3,height:"344px",width:"100%"}}),Object(p.jsx)(f,{app:t,qlikId:"a5e0f12c-38f5-4da9-8f3f-0e4566b28398",style:{flex:2,height:"344px",width:"100%"}})]}),Object(p.jsx)(x,{id:"a5e0f12c-38f5-4da9-8f3f-0e4566b28398",app:t})]})};var m=function(e){var t=e.app;return Object(p.jsxs)("div",{className:"pageDiv",children:[Object(p.jsx)("div",{className:"pageTitleDiv",children:Object(p.jsx)("span",{className:"pageTitle",children:"Case Details"})}),Object(p.jsx)("div",{style:{height:"600px"},children:Object(p.jsx)(f,{app:t,qlikId:"rJFbvG"})})]})},v=(c(43),c.p+"static/media/QS_Capa_Nordica2.0f23df76.png"),N=c(14);c(44);var w=function(e){var t=e.icon,c=e.title,n=e.url;return Object(p.jsxs)(N.b,{to:n,className:"navButton",activeClassName:"active",children:[Object(p.jsx)("i",{className:t}),Object(p.jsx)("span",{children:c})]})},g=(c(53),c.p+"static/media/Nordica.3c0b13bc.png");var k=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(p.jsxs)("div",{className:"navMenu",children:[Object(p.jsx)("button",{onClick:function(){return a(!c)},className:"menuButton",children:Object(p.jsx)("i",{className:"fas fa-bars"})}),Object(p.jsxs)("div",{className:c?"sideNavMenu open":"sideNavMenu",children:[Object(p.jsxs)("div",{className:"navMenuHeader",children:[Object(p.jsx)("img",{src:g,alt:"Amazon",className:"logoMobile"}),Object(p.jsx)("span",{className:"navTitle",children:"Helpdesk Management"})]}),Object(p.jsx)(w,{title:"Dashboard",url:"dashboard",icon:"fas fa-chart-line"}),Object(p.jsx)(w,{title:"Performance",url:"performance",icon:"fas fa-chart-bar"}),Object(p.jsx)(w,{title:"Case Details",url:"case_details",icon:"fas fa-table"}),Object(p.jsx)(w,{title:"Support",url:"support",icon:"fas fa-headset"})]}),Object(p.jsx)("div",{onClick:function(){return a(!1)},className:c?"blackScreen":""})]})},q=(c(54),c(26));c(55);var S=function(e){var t=e.app,c=Object(n.useState)([]),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useRef)(null),d=Object(n.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t.getList("CurrentSelections",(function(e){r(Object(q.a)(e.qSelectionObject.qSelections)),o.current=e.qInfo.qId}));case 3:case"end":return e.stop()}}),e)}))),[t]);return Object(n.useEffect)((function(){return t&&d(),function(){t&&t.destroySessionObject(o.current)}}),[t]),Object(p.jsx)("div",{className:"currentSelections",children:s.length>0?s.map((function(e){return Object(p.jsxs)("div",{className:"selection",children:[Object(p.jsx)("span",{className:"selectionTitle",children:"=Dual(Year([Date]),YearStart([Date]))"==e.qField?"Ano":e.qField}),Object(p.jsx)("div",{className:"selected",children:Object(p.jsxs)("span",{children:[e.qSelected,Object(p.jsx)("button",{onClick:function(){return t.field(e.qField).clear()},className:"menuButton",children:Object(p.jsx)("i",{className:"fas fa-times"})})]})})]})})):Object(p.jsx)("span",{className:"noSelection",children:"Nenhuma Sele\xe7\xe3o Atual"})})};var y=function(e){var t=e.app,c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1];return Object(p.jsxs)("div",{className:"filterMenu",children:[Object(p.jsx)("button",{onClick:function(){return r(!s)},className:"menuButton",children:Object(p.jsx)("i",{className:"fas fa-sliders-h"})}),Object(p.jsxs)("div",{className:s?"sideFilterMenu open":"sideFilterMenu",children:[Object(p.jsxs)("div",{className:"filterHeader",children:[Object(p.jsx)("span",{className:"filterTitle",children:"Sele\xe7\xf5es Atuais"}),Object(p.jsx)("button",{onClick:function(){return r(!s)},className:"menuButton",children:Object(p.jsx)("i",{className:"fas fa-sliders-h"})})]}),Object(p.jsxs)("div",{className:"filtersDiv",children:[Object(p.jsx)(S,{app:t}),t?Object(p.jsx)("button",{className:"clearAll",onClick:function(){return t.clearAll()},children:"Limpar Tudo"}):"",Object(p.jsx)(f,{app:t,qlikId:"mQGMhh",style:{height:"200px"}})]})]}),Object(p.jsx)("div",{onClick:function(){return r(!1)},className:s?"FilterblackScreen":""})]})};var C=function(e){var t=e.app;return Object(p.jsxs)("div",{className:"header",children:[Object(p.jsxs)("div",{className:"titleWrapper",children:[Object(p.jsx)(k,{}),Object(p.jsx)("span",{className:"mashupTitle",children:"Helpdesk Management"}),Object(p.jsx)("img",{src:v,alt:"n\xf3rdica",className:"logo"}),Object(p.jsx)(y,{app:t})]}),Object(p.jsx)("div",{className:"navWrapper",children:Object(p.jsxs)("div",{className:"buttonsDiv",children:[Object(p.jsx)(w,{title:"Dashboard",url:"dashboard",icon:"fas fa-chart-line"}),Object(p.jsx)(w,{title:"Performance",url:"performance",icon:"fas fa-chart-bar"}),Object(p.jsx)(w,{title:"Case Details",url:"case_details",icon:"fas fa-table"}),Object(p.jsx)(w,{title:"Support",url:"support",icon:"fas fa-headset"})]})})]})},I=c(2);var D=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e={host:"grupoitg-nordica.us.qlikcloud.com",prefix:"/",port:443,isSecure:!0,webIntegrationId:"zQLeIH8-uf87QC9JyLRsdrdZpvhVlkli"};j.connectQCS(e).then((function(t){var c=t.openApp("999759c8-696c-4009-9546-0e658a9c6fdc",e);a(c)}))}),[]),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(C,{app:c}),Object(p.jsxs)(I.d,{children:[Object(p.jsx)(I.b,{path:"/dashboard",exact:!0,render:function(){return Object(p.jsx)(O,{app:c})}}),Object(p.jsx)(I.b,{path:"/case_details",exact:!0,render:function(){return Object(p.jsx)(m,{app:c})}}),Object(p.jsx)(I.b,{exact:!0,path:"/",children:Object(p.jsx)(I.a,{to:"/dashboard"})})]})]})})};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.04c92f66.chunk.js.map